[
  {
    "id": "6725655",
    "identifier": "l19zjk",
    "name": "Mapping - 01",
    "mappingTopic": "/plant1/+/+",
    "mappingTopicSample": "/plant1/line1/device1_measure1_Type",
    "targetAPI": "MEASUREMENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"value\":100}",
    "targetTemplate": "{\"measure1_Type\":{\"V\":{\"value\":110,\"unit\":\"C\"}},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_TemperatureMeasurement\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "_TOPIC_LEVEL_[0]&\"_\"&_TOPIC_LEVEL_[1]&\"_\"&$substringBefore(_TOPIC_LEVEL_[2],\"_\")",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$substringAfter(_TOPIC_LEVEL_[2],\"_\")",
        "pathTarget": "type",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$now()",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "value",
        "pathTarget": "measure1_Type.V.value",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": false,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": true,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735103012385,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "7326740",
    "identifier": "jrr12x",
    "name": "Mapping - 02",
    "mappingTopic": "devices/+",
    "mappingTopicSample": "devices/device_best_01",
    "targetAPI": "MEASUREMENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"mea\":[{\"tid\":\"uuid_01\",\"psid\":\"Crest\",\"devicePath\":\"path01_80_X03_VVB001StatusB_Crest\",\"values\":[{\"value\":4.6,\"timestamp\":1648562285347}]},{\"tid\":\"uuid_02\",\"psid\":\"Crest\",\"devicePath\":\"path01_80_X03_VVB001StatusB_Crest\",\"values\":[{\"value\":5.6,\"timestamp\":1648563285347}]}]}",
    "targetTemplate": "{\"c8y_ProcessLoadMeasurement\":{\"L\":{\"value\":110,\"unit\":\"%\"}},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"source\":{\"id\":\"909090\"},\"type\":\"c8y_ProcessLoadMeasurement\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "_TOPIC_LEVEL_[1]",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "mea.values[0].value",
        "pathTarget": "c8y_ProcessLoadMeasurement.L.value",
        "repairStrategy": "DEFAULT",
        "expandArray": true
      },
      {
        "pathSource": "$map($map(mea.values[0].timestamp, $number), function($v, $i, $a) { $fromMillis($v) })",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": true
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": true,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735047942734,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "5127607",
    "identifier": "sxp91d",
    "name": "Mapping - 03",
    "mappingTopic": "device/express/+",
    "mappingTopicSample": "device/express/berlin_01",
    "targetAPI": "INVENTORY",
    "direction": "INBOUND",
    "sourceTemplate": "{\"line\":\"Bus-Berlin-Rom\",\"operator\":\"EuroBus\",\"customFragment\":{\"customFragmentValue\":\"Express\"},\"capacity\":64,\"customArray\":[\"ArrayValue1\",\"ArrayValue2\"],\"customType\":\"type_International\"}",
    "targetTemplate": "{\"c8y_IsDevice\":{},\"com_cumulocity_model_Agent\":{},\"name\":\"Bus Name\",\"type\":\"type_bus\",\"capacity\":100,\"id\":\"909090\",\"time\":\"2022-08-05T00:14:49.389+02:00\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "_TOPIC_LEVEL_[2]",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "customType",
        "pathTarget": "type",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "operator&\"-\"&line",
        "pathTarget": "name",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "capacity",
        "pathTarget": "capacity",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735051880768,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "9127608",
    "identifier": "inig2g",
    "name": "Mapping - 04",
    "mappingTopic": "event/+",
    "mappingTopicSample": "event/berlin_01",
    "targetAPI": "EVENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"msg_type\":\"c8y_BusStopEvent\",\"txt\":\"Bus stopped at petrol station today!\",\"td\":\"2022-09-08T16:21:53.389+02:00\",\"ts\":\"1665473038000\"}",
    "targetTemplate": "{\"source\":{\"id\":\"909090\"},\"text\":\"This is a new test event.\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_GeneralBusEvent\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "_TOPIC_LEVEL_[1]",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "txt",
        "pathTarget": "text",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "msg_type",
        "pathTarget": "type",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$now()",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": false,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735053635181,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "6927610",
    "identifier": "dbhem8",
    "name": "Mapping - 05",
    "mappingTopic": "measurement/+/gazoline",
    "mappingTopicSample": "measurement/berlin_01/gazoline",
    "targetAPI": "MEASUREMENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"fuel\":65,\"ts\":\"2022-08-05T00:14:49.389+02:00\",\"mea\":\"c8y_FuelMeasurement\"}",
    "targetTemplate": "{\"c8y_FuelMeasurement\":{\"L\":{\"value\":110,\"unit\":\"L\"}},\"time\":\"2022-10-18T00:14:49.389+02:00\",\"type\":\"c8y_FuelMeasurement\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "_TOPIC_LEVEL_[1]",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "fuel",
        "pathTarget": "c8y_FuelMeasurement.L.value",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$now()",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735115603199,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "7927612",
    "identifier": "re1fmc",
    "name": "Mapping - 06",
    "mappingTopic": "multiarray/devices",
    "mappingTopicSample": "multiarray/devices",
    "targetAPI": "INVENTORY",
    "direction": "INBOUND",
    "sourceTemplate": "{\"device\":[\"d1_id\",\"d2_id\"],\"types\":{\"type_A\":\"type_A\",\"type_B\":\"type_B\"},\"used_name\":[\"Pressure_d1\",\"Pressure_d2\"]}",
    "targetTemplate": "{\"c8y_IsDevice\":{},\"name\":\"Vibration Sensor\",\"type\":\"maker_Vibration_Sensor\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "device",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": true
      },
      {
        "pathSource": "types.type_A",
        "pathTarget": "type",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$map(used_name, function($v, $i, $a) { $contains($v,'d1') ? $join(['Special_i0', $string($i)]) : $join([$string($v), $string($i)]) } )",
        "pathTarget": "name",
        "repairStrategy": "DEFAULT",
        "expandArray": true
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735115895894,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "1727614",
    "identifier": "qvg9oj",
    "name": "Mapping - 07",
    "mappingTopic": "arrayType/devices",
    "mappingTopicSample": "arrayType/devices",
    "targetAPI": "MEASUREMENT",
    "direction": "INBOUND",
    "sourceTemplate": "[{\"tid\":\"5e4bac9f-b47a-499e-8601-68fc16a9847c\",\"psid\":\"Crest\",\"devicePath\":\"c2818e07-4c09-42f0-ba24-ddb712573ab5_AL1352_192168221_80_X03_VVB001StatusB_Crest\",\"processDataUnit\":\"20\",\"values\":[{\"value\":4.6,\"timestamp\":1648562285347}]},{\"tid\":\"5e4bac9f-b47a-499e-8601-68fc16a9847c\",\"psid\":\"Crest\",\"devicePath\":\"c2818e07-4c09-42f0-ba24-ddb712573ab5_AL1352_192168221_80_X03_VVB001StatusB_Crest\",\"processDataUnit\":\"20\",\"values\":[{\"value\":5.6,\"timestamp\":1648562285347}]}]",
    "targetTemplate": "{\"c8y_TemperatureMeasurement\":{\"T\":{\"value\":110,\"unit\":\"C\"}},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"source\":{\"id\":\"909090\"},\"type\":\"c8y_TemperatureMeasurement\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "$substringBefore($[0].devicePath,\"_AL\")",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": " $[].values[0].value",
        "pathTarget": "c8y_TemperatureMeasurement.T.value",
        "repairStrategy": "DEFAULT",
        "expandArray": true
      },
      {
        "pathSource": "$map($map($[].values[0].timestamp, $number), function($v) { $fromMillis($v)})",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": true
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": true,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735116237141,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "6426752",
    "identifier": "cpbkts",
    "name": "Mapping - 08",
    "mappingTopic": "eventObject/+",
    "mappingTopicSample": "eventObject/berlin_01",
    "targetAPI": "EVENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"msg_type\":\"c8y_BusStopEvent\",\"txt\":\"Bus stopped at petrol station today!\",\"td\":\"2022-09-08T16:21:53.389+02:00\",\"model\":{\"name\":\"MAN e-Bus\"}}",
    "targetTemplate": "{\"text\":\"This is a new test event.\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_TestEvent\",\"customProperties\":\"dummy\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "_TOPIC_LEVEL_[1]",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "txt",
        "pathTarget": "text",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "msg_type",
        "pathTarget": "type",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "model",
        "pathTarget": "customProperties",
        "repairStrategy": "REMOVE_IF_MISSING_OR_NULL",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735118681579,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "2227615",
    "identifier": "62cj23",
    "name": "Mapping - 09",
    "mappingTopic": "measurementObject/+/gazoline",
    "mappingTopicSample": "measurementObject/berlin_01/gazoline",
    "targetAPI": "MEASUREMENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"fuel\":65,\"oil\":4.5,\"ts\":\"2022-08-05T00:14:49.389+02:00\",\"mea\":\"c8y_FuelMeasurement\"}",
    "targetTemplate": "{\"c8y_FuelMeasurement\":{\"Tank\":{\"value\":110,\"unit\":\"l\"}},\"c8y_OilMeasurement\":\"undefined\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_FuelMeasurement\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "_TOPIC_LEVEL_[1]",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$now()",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "fuel*3.78541",
        "pathTarget": "c8y_FuelMeasurement.Tank.value",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "(oil?{\"Motor\": {\"value\":oil, \"unit\":\"l\"}}:null)",
        "pathTarget": "c8y_OilMeasurement",
        "repairStrategy": "REMOVE_IF_MISSING_OR_NULL",
        "expandArray": false
      }
    ],
    "active": false,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735120994173,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "6529685",
    "identifier": "21tz6i",
    "name": "Mapping - 10",
    "mappingTopic": "binary/+",
    "mappingTopicSample": "binary/berlin_01",
    "targetAPI": "EVENT",
    "direction": "INBOUND",
    "sourceTemplate": "{}",
    "targetTemplate": "{ \n    \"text\": \"This is a new test event.\",\n    \"time\": \"2022-08-05T00:14:49.389+02:00\",\n    \"type\": \"c8y_TestEvent\"\n }",
    "mappingType": "BINARY",
    "substitutions": [],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "STARTED",
    "snoopedTemplates": [
      "{message=0x7b226964223a2231222c22696d616765223a222f396a2f34414151536b5a4a5267414241514141415141424141442f3277444641414d4341674d4341674d4441774d4541774d45425167464251514542516f484277594944416f4d4441734b5c725c6e4377734e4}",
      "{message=0x7b226964223a2232222c22696d616765223a222f396a2f34414151536b5a4a5267414241514141415141424141442f3277444641414d4341674d4341674d4441774d4541774d45425167464251514542516f484277594944416f4d4441734b5c725c6e4377734e4}"
    ],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735180944611,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "6729706",
    "identifier": "57smjw",
    "name": "Mapping - 11",
    "mappingTopic": "operation/+",
    "mappingTopicSample": "operation/berlin_01",
    "targetAPI": "OPERATION",
    "direction": "INBOUND",
    "sourceTemplate": "{\"text\":\"Special operation restart\"}",
    "targetTemplate": "{\"description\":\"New camera operation!\",\"type\":\"maker_Vibration_Sensor\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "_TOPIC_LEVEL_[1]",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$join([text,\"_\",$now()])",
        "pathTarget": "description",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735126296123,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "3026811",
    "identifier": "v9z9ls",
    "name": "Mapping - 12",
    "mappingTopic": "binaryEvent/+",
    "mappingTopicSample": "binaryEvent/berlin_01",
    "targetAPI": "EVENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"message\":\"3635 2c20 342e 352c 2022 3230 3232 2d30 382d 3036 5430 303a 3135 3a35 302e 3030 302b 3032 3a30 3022 2c22 6338 795f 4675 656c 4d65 6173 7572 656d 656e 7422 \"}",
    "targetTemplate": "{\"text\":\"This is a new test event.\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_TestEvent\"}",
    "mappingType": "BINARY",
    "substitutions": [
      {
        "pathSource": "\"Temp: \"&$number($substring(message,0,4))&\" C\"",
        "pathTarget": "text",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "_TOPIC_LEVEL_[1]",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$now()",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": false,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735195857884,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "3528655",
    "identifier": "ge30yc",
    "name": "Mapping - 13",
    "mappingTopic": "device/update/+",
    "mappingTopicSample": "device/update/berlin_01",
    "targetAPI": "INVENTORY",
    "direction": "INBOUND",
    "sourceTemplate": "{\"customType\":\"type_Overnight\"}",
    "targetTemplate": "{\"type\":\"type_any\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "_TOPIC_LEVEL_[2]",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "customType",
        "pathTarget": "type",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": true,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735132247785,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "2828691",
    "identifier": "8w32ki",
    "name": "Mapping - 14",
    "mappingTopic": "protobuf/measurement",
    "mappingTopicSample": "protobuf/measurement",
    "targetAPI": "MEASUREMENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"Temperature\":{\"value\":110,\"unit\":\"C\"},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"deviceId\":\"909090\"}",
    "targetTemplate": "{\"c8y_GenericMeasurement\":{\"Module\":{\"value\":110,\"unit\":\"l\"}},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_GenericMeasurement_type\"}",
    "mappingType": "PROTOBUF_INTERNAL",
    "substitutions": [],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735217604570,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "7727661",
    "identifier": "lv8a0s",
    "name": "Mapping - 15",
    "mappingTopic": "protobuf/event",
    "mappingTopicSample": "protobuf/event",
    "targetAPI": "EVENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"deviceId\":\"909090\",\"description\":\"This is a new test event.\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"eventType\":\"TestEvent\"}",
    "targetTemplate": "{\"text\":\"This is a new test event.\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_TestEvent\"}",
    "mappingType": "EXTENSION_SOURCE",
    "substitutions": [],
    "active": false,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "extension": {
      "extensionName": "dynamic-mapping-extension",
      "eventName": "CustomEvent",
      "loaded": false,
      "extensionType": "EXTENSION_SOURCE"
    },
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735217875869,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "6625786",
    "identifier": "qhn7xt",
    "name": "Mapping - 16",
    "mappingTopic": "panel",
    "mappingTopicSample": "panel",
    "targetAPI": "MEASUREMENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"deviceId\":\"863859042393327\",\"version\":\"1\",\"deviceType\":\"20\",\"deviceTimestamp\":\"1665473038000\",\"deviceStatus\":\"BTR\",\"temperature\":90}",
    "targetTemplate": "{\"c8y_TemperatureMeasurement\":{\"T\":{\"value\":110,\"unit\":\"C\"}},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_TemperatureMeasurement\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "deviceId",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$now()",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "temperature",
        "pathTarget": "c8y_TemperatureMeasurement.T.value",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": true,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735147212727,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "7725787",
    "identifier": "jxd44v",
    "name": "Mapping - 17",
    "mappingTopic": "panel",
    "mappingTopicSample": "panel",
    "targetAPI": "EVENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"deviceId\":\"863859042393327\",\"version\":\"1\",\"deviceType\":\"20\",\"deviceTimestamp\":\"1665473038000\",\"deviceStatus\":\"BTR\",\"temperature\":90}",
    "targetTemplate": "{\"text\":\"New device status: BTR!\",\"time\":\"2022-11-24T00:14:49.389+02:00\",\"type\":\"c8y_GeneralPanelEvent\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "deviceId",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$now()",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "'New device status: ' & deviceStatus & '!'",
        "pathTarget": "text",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735147118337,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "8628725",
    "identifier": "54tu74",
    "name": "Mapping - 18",
    "mappingTopic": "flexM/+/gazoline",
    "mappingTopicSample": "flexM/berlin_01/gazoline",
    "targetAPI": "MEASUREMENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"Measurementname\":\"Airsensor\",\"Seriesname\":\"Humidity\",\"value\":10,\"unit\":\"%\"}",
    "targetTemplate": "{\"Airsensor\":\"dummy\",\"Liquidsensor\":\"dummy\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_measurementtype\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "_TOPIC_LEVEL_[1]",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "Measurementname & \"_type\"",
        "pathTarget": "type",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "Measurementname = \"Airsensor\" ? {Seriesname:{\"value\": value, \"unit\": unit}} : null",
        "pathTarget": "Airsensor",
        "repairStrategy": "REMOVE_IF_MISSING_OR_NULL",
        "expandArray": false
      },
      {
        "pathSource": "Measurementname = \"Liquidsensor\" ? {Seriesname:{\"value\": value, \"unit\": unit}} : null",
        "pathTarget": "Liquidsensor",
        "repairStrategy": "REMOVE_IF_MISSING_OR_NULL",
        "expandArray": false
      },
      {
        "pathSource": "$now()",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735147692543,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "8526943",
    "identifier": "b3sk0i",
    "name": "Mapping - 19",
    "mappingTopic": "alarm/tires",
    "mappingTopicSample": "alarm/tires",
    "targetAPI": "ALARM",
    "direction": "INBOUND",
    "sourceTemplate": "{\"msg_type\":\"c8y_FlatTireAlarm\",\"tx\":\"Left rear tire loses air!\",\"bus_id\":\"berlin_01\"}",
    "targetTemplate": "{\"type\":\"c8y_FlatTireAlarm\",\"text\":\"Left rear tire loses air!\",\"severity\":\"MAJOR\",\"status\":\"ACTIVE\",\"time\":\"2022-03-19T12:03:27.845Z\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "bus_id",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "tx",
        "pathTarget": "text",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "msg_type",
        "pathTarget": "type",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735149917156,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "2827668",
    "identifier": "0z4nza",
    "name": "Mapping - 20",
    "mappingTopic": "measurementExt",
    "mappingTopicSample": "measurementExt",
    "targetAPI": "MEASUREMENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"Temperature\":{\"value\":110,\"unit\":\"C\"},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"deviceId\":\"909090\"}",
    "targetTemplate": "{\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_Temperature\",\"c8y_Temperature\":\"dummy\",\"c8y_Fragment_to_remove\":\"remove_me\"}",
    "mappingType": "EXTENSION_SOURCE",
    "substitutions": [],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": true,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "extension": {
      "extensionName": "dynamic-mapping-extension",
      "eventName": "CustomMeasurement",
      "loaded": false,
      "extensionType": "EXTENSION_SOURCE"
    },
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735152784594,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "4428730",
    "identifier": "rwij07",
    "name": "Mapping - 21",
    "mappingTopic": "v2/things/+",
    "mappingTopicSample": "v2/things/berlin_01",
    "targetAPI": "MEASUREMENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"values\":[{\"key\":\"velocidad_cabezal\",\"value\":136.34},{\"key\":\"temperature\",\"value\":25}]}",
    "targetTemplate": "{\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_FlexibleMeasurement\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "_TOPIC_LEVEL_[2]",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$now()",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "values{key: {'Measurement':{'value':value, 'key': 'U'}}} ",
        "pathTarget": "$",
        "repairStrategy": "CREATE_IF_MISSING",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735154200205,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "7629797",
    "identifier": "oxvcua",
    "name": "Mapping - 22",
    "mappingTopic": "v3/things/+",
    "mappingTopicSample": "v3/things/berlin_01",
    "targetAPI": "MEASUREMENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"values\":[{\"key\":\"velocidad_cabezal\",\"value\":136.34},{\"key\":\"temperature\",\"value\":25}]}",
    "targetTemplate": "{\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_FlexibleMeasurement\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "_TOPIC_LEVEL_[2]",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$now()",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$map(values, function ($v) { {$v.key: {'Measurement':{'value':$v.value, 'unit': 'U'}}}})",
        "pathTarget": "$",
        "repairStrategy": "CREATE_IF_MISSING",
        "expandArray": true
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735159429006,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "9226989",
    "identifier": "x1v0ln",
    "name": "Mapping - 23",
    "mappingTopic": "datalogger/0018",
    "mappingTopicSample": "datalogger/0018",
    "targetAPI": "MEASUREMENT",
    "direction": "INBOUND",
    "sourceTemplate": "{\"ID\":\"0018\",\"meas\":{\"Product1_Flow\":[14.93],\"Water_Flow\":[18.54],\"Product2_Flow\":[272.9]},\"ts\":\"2024-06-18 13:20:45.000Z\",\"timestampUTC\":\"2024-06-18T13:20:45.000Z\"}",
    "targetTemplate": "{\"onguardMeasurement\":null,\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"onguardMeasurement\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "ID",
        "pathTarget": "_IDENTITY_.externalId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": " $replace(ts,' ','T')",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$map($spread(meas), function($v, $k) { { $keys($v): { \"value\": $lookup($v,$keys($v))[0], \"unit\": \"l/h\" } } })~>$merge()",
        "pathTarget": "onguardMeasurement",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": true,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735198002121,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "6028791",
    "identifier": "791ex5",
    "name": "Mapping - 24",
    "mappingTopic": "extension/source_target",
    "mappingTopicSample": "extension/source_target",
    "targetAPI": "ALARM",
    "direction": "INBOUND",
    "sourceTemplate": "{\"deviceId\":\"909090\",\"alarmType\":\"TestAlarm\",\"description\":\"This is a new test alarm!\",\"severity\":\"MAJOR\",\"status\":\"ACTIVE\",\"time\":\"2022-08-05T00:14:49.389+02:00\"}",
    "targetTemplate": "{\"severity\":\"MAJOR\",\"status\":\"ACTIVE\",\"text\":\"This is a new test alarm!\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_TestAlarm\"}",
    "mappingType": "EXTENSION_SOURCE_TARGET",
    "substitutions": [],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "extension": {
      "extensionName": "dynamic-mapping-extension",
      "eventName": "CustomAlarm",
      "loaded": false,
      "extensionType": "EXTENSION_SOURCE_TARGET"
    },
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735221431554,
    "genericDeviceIdentifier": "_IDENTITY_.externalId"
  },
  {
    "id": "5725916",
    "identifier": "t7vj81",
    "name": "Mapping - 25",
    "mappingTopic": "alarm/tires_c8ySourceId",
    "mappingTopicSample": "alarm/tires_c8ySourceId",
    "targetAPI": "ALARM",
    "direction": "INBOUND",
    "sourceTemplate": "{\"msg_type\":\"c8y_FlatTireAlarm\",\"tx\":\"Left rear tire loses air!\",\"bus_c8ySourceId\":\"10203040\"}",
    "targetTemplate": "{\"type\":\"c8y_FlatTireAlarm\",\"text\":\"Left rear tire loses air!\",\"severity\":\"MAJOR\",\"status\":\"ACTIVE\",\"time\":\"2022-03-19T12:03:27.845Z\"}",
    "mappingType": "JSON",
    "substitutions": [
      {
        "pathSource": "bus_c8ySourceId",
        "pathTarget": "_IDENTITY_.c8ySourceId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "tx",
        "pathTarget": "text",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "msg_type",
        "pathTarget": "type",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "tested": false,
    "supportsMessageContext": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": false,
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1735420127589
  }
]