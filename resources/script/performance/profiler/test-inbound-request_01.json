{
    "mapping": {
        "id": "91305247",
        "identifier": "gvknlhhb",
        "name": "Mapping - geolocation - code",
        "mappingTopic": "testmapper/geodictCode",
        "mappingTopicSample": "testmapper/geodictCode",
        "targetAPI": "EVENT",
        "direction": "INBOUND",
        "sourceTemplate": "{\"version\":\"0\",\"id\":\"TID-987654-1234567890\",\"detail-type\":\"geolocation\",\"source\":\"myapp.orders\",\"account\":\"123451235123\",\"time\":\"2024-05-21T15:17:43Z\",\"region\":\"us-west-1\",\"detail\":{\"sensorAlternateId\":\"TID-987654-1234567890\",\"capabilityAlternateId\":\"geolocation\",\"measures\":[{\"latitude\":47.5381031,\"longitude\":14.885459,\"elevation\":745.3,\"accuracy\":5.4,\"origin\":\"gps\",\"gatewayidentifier\":\"TID-GWID-436521\",\"_time\":\"2022-04-29T12:01:23Z\"}]}}",
        "targetTemplate": "{\"source\":{\"id\":\"909090\"},\"text\":\"Geolocation -- Postion updated\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_TestEvent\",\"c8y_Position\":{\"alt\":67,\"lng\":6.95173,\"lat\":51.151977},\"origin\":\"a\",\"accuracy\":\"a\",\"gatewayidentifier\":\"gatewayidentifier\",\"_time\":\"_time\"}",
        "mappingType": "CODE_BASED",
        "transformationType": "DEFAULT",
        "substitutions": [],
        "active": true,
        "debug": false,
        "eventWithAttachment": false,
        "createNonExistingDevice": false,
        "updateExistingDevice": false,
        "autoAckOperation": true,
        "useExternalId": true,
        "externalIdType": "c8y_Serial",
        "snoopStatus": "ENABLED",
        "snoopedTemplates": [],
        "maxFailureCount": 0,
        "qos": "AT_MOST_ONCE",
        "code": "LyoqDQogKiBAbmFtZSBEZWZhdWx0IHRlbXBsYXRlLCBvbmUgbWVhc3VyZW1lbnQNCiAqIEBkZXNjcmlwdGlvbiBEZWZhdWx0IHRlbXBsYXRlLCBvbmUgbWVhc3VyZW1lbnQNCiAqIEB0ZW1wbGF0ZVR5cGUgSU5CT1VORA0KICogQGRlZmF1bHRUZW1wbGF0ZSB0cnVlDQogKiBAaW50ZXJuYWwgdHJ1ZQ0KICogQHJlYWRvbmx5IHRydWUNCg0KICogc2FtcGxlIHRvIGdlbmVyYXRlIG9uZSBtZWFzdXJlbWVudA0KICogcGF5bG9hZA0KICogew0KICogICAgICJ0ZW1wZXJhdHVyZSI6IDEzOS4wLA0KICogICAgICJ1bml0IjogIkMiLA0KICogICAgICJleHRlcm5hbElkIjogImJlcmxpbl8wMSINCiAqICB9DQogKiB0b3BpYyAndGVzdEdyYWFsc1NpbmdsZS9iZXJsaW5fMDEnDQoqLw0KDQpmdW5jdGlvbiBleHRyYWN0RnJvbVNvdXJjZShjdHgpIHsNCiAgICAvL1RoaXMgaXMgdGhlIHNvdXJjZSBtZXNzYWdlIGFzIGpzb24NCiAgICBjb25zdCBzb3VyY2VPYmplY3QgPSBKU09OLnBhcnNlKGN0eC5nZXRQYXlsb2FkKCkpOw0KICAgIGNvbnN0IGRldGFpbCA9IHNvdXJjZU9iamVjdFsnZGV0YWlsJ107DQogICAgLy8gdHJhY2VQYXlsb2FkKGN0eCk7DQoNCiAgICAvLyBDcmVhdGUgYSBuZXcgU3Vic3RpdHV0aW9uUmVzdWx0IHdpdGggdGhlIEhhc2hNYXANCiAgICBjb25zdCByZXN1bHQgPSBuZXcgU3Vic3RpdHV0aW9uUmVzdWx0KCk7DQoNCiAgICAvLyBEZWZpbmUgRGV2aWNlIElkZW50aWZpZXINCiAgICBjb25zdCBleHRlcm5hbElkID0gZGV0YWlsWydzZW5zb3JBbHRlcm5hdGVJZCddLnNwbGl0KCctJykucG9wKCk7DQogICAgY29uc3QgZGV2aWNlSWRlbnRpZmllciA9IG5ldyBTdWJzdGl0dXRpb25WYWx1ZShleHRlcm5hbElkLCBUWVBFLlRFWFRVQUwsIFJlcGFpclN0cmF0ZWd5LkRFRkFVTFQsIGZhbHNlKTsNCiAgICBhZGRTdWJzdGl0dXRpb24ocmVzdWx0LCBjdHguZ2V0R2VuZXJpY0RldmljZUlkZW50aWZpZXIoKSwgZGV2aWNlSWRlbnRpZmllcik7DQoNCiAgICAvLyBBZGQgdGltZSB3aXRoIGtleSAndGltZScgdG8gcmVzdWx0LmdldFN1YnN0aXR1dGlvbnMoKQ0KICAgIGNvbnN0IHRpbWUgPSBuZXcgU3Vic3RpdHV0aW9uVmFsdWUoc291cmNlT2JqZWN0Wyd0aW1lJ10sIFRZUEUuVEVYVFVBTCwgUmVwYWlyU3RyYXRlZ3kuQ1JFQVRFX0lGX01JU1NJTkcsIGZhbHNlKTsNCiAgICBhZGRTdWJzdGl0dXRpb24ocmVzdWx0LCAndGltZScsIHRpbWUpOw0KDQogICAgbGV0IHR5cGVfdmFsdWUgPSBkZXRhaWxbJ3NlbnNvckFsdGVybmF0ZUlkJ107DQogICAgaWYgKHR5cGVfdmFsdWUgPT0gJ2dlb2xvY2F0aW9uJykge3R5cGVfdmFsdWUgPSAnYzh5X0xvY2F0aW9uVXBkYXRlJ307DQogICAgY29uc3QgdHlwZV9zdiA9IG5ldyBTdWJzdGl0dXRpb25WYWx1ZSh0eXBlX3ZhbHVlLCBUWVBFLlRFWFRVQUwsIFJlcGFpclN0cmF0ZWd5LkNSRUFURV9JRl9NSVNTSU5HLCBmYWxzZSk7DQogICAgYWRkU3Vic3RpdHV0aW9uKHJlc3VsdCwgJ3R5cGUnLCB0eXBlX3N2KTsNCg0KICAgIGNvbnN0IGZpcnN0X21lYXN1cmVzID0gZGV0YWlsLm1lYXN1cmVzWzBdOw0KDQogICAgY29uc3QgYzh5X1Bvc2l0aW9uID17DQogICAgICAgIGxhdDogZmlyc3RfbWVhc3VyZXNbJ2xhdGl0dWRlJ10sDQogICAgICAgIGxuZzogZmlyc3RfbWVhc3VyZXNbJ2xvbmdpdHVkZSddLA0KICAgICAgICBhbHQ6IGZpcnN0X21lYXN1cmVzWydlbGV2YXRpb24nXQ0KICAgIH07DQoNCiAgICBjb25zdCBjOHlfUG9zaXRpb25fc3YgPSBuZXcgU3Vic3RpdHV0aW9uVmFsdWUoYzh5X1Bvc2l0aW9uLCBUWVBFLk9CSkVDVCwgUmVwYWlyU3RyYXRlZ3kuQ1JFQVRFX0lGX01JU1NJTkcsIGZhbHNlKTsNCiAgICBhZGRTdWJzdGl0dXRpb24ocmVzdWx0LCAnYzh5X1Bvc2l0aW9uJywgYzh5X1Bvc2l0aW9uX3N2KTsNCg0KICAgIGNvbnN0IGFjY3VyYWN5X3N2ID0gbmV3IFN1YnN0aXR1dGlvblZhbHVlKGZpcnN0X21lYXN1cmVzWydhY2N1cmFjeSddLCBUWVBFLk5VTUJFUiwgUmVwYWlyU3RyYXRlZ3kuQ1JFQVRFX0lGX01JU1NJTkcsIGZhbHNlKTsNCiAgICBhZGRTdWJzdGl0dXRpb24ocmVzdWx0LCAnYWNjdXJhY3knLCBhY2N1cmFjeV9zdik7DQoNCiAgICBjb25zdCBvcmlnaW5fc3YgPSBuZXcgU3Vic3RpdHV0aW9uVmFsdWUoZmlyc3RfbWVhc3VyZXNbJ29yaWdpbiddLCBUWVBFLk5VTUJFUiwgUmVwYWlyU3RyYXRlZ3kuQ1JFQVRFX0lGX01JU1NJTkcsIGZhbHNlKTsNCiAgICBhZGRTdWJzdGl0dXRpb24ocmVzdWx0LCAnb3JpZ2luJywgb3JpZ2luX3N2KTsNCg0KICAgIGNvbnN0IGdhdGV3YXlpZGVudGlmaWVyX3N2ID0gbmV3IFN1YnN0aXR1dGlvblZhbHVlKGZpcnN0X21lYXN1cmVzWydnYXRld2F5aWRlbnRpZmllciddLCBUWVBFLlRFWFRVQUwsIFJlcGFpclN0cmF0ZWd5LkNSRUFURV9JRl9NSVNTSU5HLCBmYWxzZSk7DQogICAgYWRkU3Vic3RpdHV0aW9uKHJlc3VsdCwgJ2dhdGV3YXlpZGVudGlmaWVyJywgZ2F0ZXdheWlkZW50aWZpZXJfc3YpOw0KDQogICAgY29uc3QgX3RpbWVfc3YgPSBuZXcgU3Vic3RpdHV0aW9uVmFsdWUoZmlyc3RfbWVhc3VyZXNbJ190aW1lJ10sIFRZUEUuVEVYVFVBTCwgUmVwYWlyU3RyYXRlZ3kuQ1JFQVRFX0lGX01JU1NJTkcsIGZhbHNlKTsNCiAgICBhZGRTdWJzdGl0dXRpb24ocmVzdWx0LCAnX3RpbWUnLCBfdGltZV9zdik7DQoNCiAgICByZXR1cm4gcmVzdWx0Ow0KfQ0K",
        "lastUpdate": 1761824323363
    },
    "payload": "{\"version\": \"0\",  \"id\": \"TID-987654-1234567890\",  \"detail-type\": \"geolocation\",  \"source\": \"myapp.orders\",  \"account\": \"123451235123\",  \"region\": \"us-west-1\",  \"detail\": {    \"sensorAlternateId\": \"TID-987654-1234567890\",    \"capabilityAlternateId\": \"geolocation\",    \"measures\": [      {        \"latitude\": 47.5381031,        \"longitude\": 14.885459,        \"elevation\": 745.3,\"accuracy\": 5.4,\"origin\": \"gps\",\"gatewayidentifier\": \"TID-GWID-436521\",\"_time\": \"2022-04-29T12:01:23Z\"}]}}",
    "send": false
}