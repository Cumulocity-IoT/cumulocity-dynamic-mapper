[
    {
        "snoopStatus": "NONE",
        "templateTopicSample": "device/express/berlin_01",
        "ident": "38c5ebbd-990c-4eeb-b556-75109b37c904",
        "tested": false,
        "mapDeviceIdentifier": true,
        "active": true,
        "targetAPI": "INVENTORY",
        "source": "{\"line\":\"Bus-Berlin-Rom\",\"operator\":\"EuroBus\",\"customFragment\":{\"customFragmentValue\":\"Express\"},\"capacity\":64,\"customArray\":[\"ArrayValue1\",\"ArrayValue2\"],\"customType\":\"type_International\"}",
        "externalIdType": "c8y_Serial",
        "target": "{\"c8y_IsDevice\":{},\"name\":\"Vibration Sensor\",\"type\":\"maker_Vibration_Sensor\",\"capacity\":77}",
        "templateTopic": "device/express/+",
        "qos": "AT_LEAST_ONCE",
        "substitutions": [
            {
                "pathSource": "_TOPIC_LEVEL_[2]",
                "pathTarget": "_DEVICE_IDENT_",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "capacity",
                "pathTarget": "capacity",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "customType",
                "pathTarget": "type",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "operator&\"-\"&line",
                "pathTarget": "name",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            }
        ],
        "updateExistingDevice": false,
        "lastUpdate": 1667925977880,
        "mappingType": "JSON",
        "snoopedTemplates": [],
        "createNonExistingDevice": false,
        "subscriptionTopic": "device/#",
        "id": "50087720",
        "name": "Mapping - 1"
    },
    {
        "snoopStatus": "NONE",
        "templateTopicSample": "event/berlin_01",
        "ident": "9109c667-16a3-486f-babf-9d01afdf1d2b",
        "tested": false,
        "mapDeviceIdentifier": true,
        "active": true,
        "targetAPI": "EVENT",
        "source": "{\"msg_type\":\"c8y_BusStopEvent\",\"txt\":\"Bus stopped at petrol station today!\",\"td\":\"2022-09-08T16:21:53.389+02:00\",\"ts\":\"1665473038000\"}",
        "externalIdType": "c8y_Serial",
        "target": "{\"source\":{\"id\":\"909090\"},\"text\":\"This is a new test event.\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_TestEvent\"}",
        "templateTopic": "event/+",
        "qos": "AT_LEAST_ONCE",
        "substitutions": [
            {
                "pathSource": "_TOPIC_LEVEL_[1]",
                "pathTarget": "source.id",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "txt",
                "pathTarget": "text",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "msg_type",
                "pathTarget": "type",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "$now()",
                "pathTarget": "time",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            }
        ],
        "updateExistingDevice": false,
        "lastUpdate": 1668574191732,
        "mappingType": "JSON",
        "snoopedTemplates": [],
        "createNonExistingDevice": true,
        "subscriptionTopic": "event/#",
        "id": "50086750",
        "name": "Mapping - 2"
    },
    {
        "snoopStatus": "NONE",
        "templateTopicSample": "measurement/berlin_01/gazoline",
        "ident": "2b295739-c1c4-4c2c-ae9e-2f04dc8313f6",
        "tested": false,
        "mapDeviceIdentifier": true,
        "active": true,
        "targetAPI": "MEASUREMENT",
        "source": "{\"fuel\":65,\"ts\":\"2022-08-05T00:14:49.389+02:00\",\"mea\":\"c8y_FuelMeasurement\"}",
        "externalIdType": "c8y_Serial",
        "target": "{\"c8y_FuelMeasurement\":{\"Tank\":{\"value\":110,\"unit\":\"l\"}},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"source\":{\"id\":\"909090\"},\"type\":\"c8y_FuelMeasurement\"}",
        "templateTopic": "measurement/+/gazoline",
        "qos": "AT_LEAST_ONCE",
        "substitutions": [
            {
                "pathSource": "_TOPIC_LEVEL_[1]",
                "pathTarget": "source.id",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "mea",
                "pathTarget": "type",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "$now()",
                "pathTarget": "time",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "fuel*3.78541",
                "pathTarget": "c8y_FuelMeasurement.Tank.value",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            }
        ],
        "updateExistingDevice": false,
        "lastUpdate": 1667758218993,
        "mappingType": "JSON",
        "snoopedTemplates": [],
        "createNonExistingDevice": true,
        "subscriptionTopic": "measurement/#",
        "id": "50086751",
        "name": "Mapping - 3"
    },
    {
        "snoopStatus": "NONE",
        "templateTopicSample": "device/update/berlin_01",
        "ident": "4e62d9df-7eb0-4ee5-92f6-8a7a93cbd99b",
        "tested": false,
        "mapDeviceIdentifier": true,
        "active": true,
        "targetAPI": "INVENTORY",
        "source": "{\"customType\":\"type_Overnight\"}",
        "target": "{\"type\":\"type\"}",
        "externalIdType": "c8y_Serial",
        "templateTopic": "device/update/+",
        "qos": "AT_LEAST_ONCE",
        "substitutions": [
            {
                "pathSource": "_TOPIC_LEVEL_[2]",
                "pathTarget": "_DEVICE_IDENT_",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "customType",
                "pathTarget": "type",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            }
        ],
        "updateExistingDevice": true,
        "mappingType": "JSON",
        "lastUpdate": 1667839346115,
        "snoopedTemplates": [],
        "createNonExistingDevice": false,
        "id": "50088645",
        "subscriptionTopic": "device/update/+",
        "name": "Mapping - 4"
    },
    {
        "snoopStatus": "NONE",
        "templateTopicSample": "alarm/tires",
        "ident": "4e62d9df-7eb0-4ee5-92f6-8a7a93cbd99c",
        "tested": false,
        "mapDeviceIdentifier": true,
        "active": true,
        "targetAPI": "ALARM",
        "source": "{\"msg_type\": \"c8y_FlatTireAlarm\",\"tx\": \"Left rear tire loses air!\",\"bus_id\": \"berlin_01\"\n}",
        "target": "{\n  \"source\": {\"id\": \"909090\"\n  },\n  \"type\": \"c8y_FlatTireAlarm\",\n  \"text\": \"Left rear tire loses air!\",\n  \"severity\": \"MAJOR\",\n  \"status\": \"ACTIVE\",\n  \"time\": \"2022-03-19T12:03:27.845Z\"\n}",
        "externalIdType": "c8y_Serial",
        "templateTopic": "alarm/tires",
        "qos": "AT_LEAST_ONCE",
        "substitutions": [
            {
                "pathSource": "_TOPIC_LEVEL_[2]",
                "pathTarget": "_DEVICE_IDENT_",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "customType",
                "pathTarget": "type",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            }
        ],
        "updateExistingDevice": true,
        "mappingType": "JSON",
        "lastUpdate": 1667839346115,
        "snoopedTemplates": [],
        "createNonExistingDevice": false,
        "id": "50088645",
        "subscriptionTopic": "alarm/tires",
        "name": "Mapping - 5"
    },
    {
        "name": "Mapping - 6",
        "id": "50124195",
        "ident": "a01a32d1-5624-4ee3-b40d-e2f58eb4e0b9",
        "subscriptionTopic": "panel",
        "templateTopic": "panel",
        "templateTopicSample": "panel",
        "targetAPI": "MEASUREMENT",
        "source": "{\"deviceId\":\"863859042393327\",\"version\":\"1\",\"deviceType\":\"20\",\"deviceTimestamp\":\"1665473038000\",\"deviceStatus\":\"BTR\",\"temperature\":90}",
        "target": "{\"c8y_TemperatureMeasurement\":{\"T\":{\"value\":110,\"unit\":\"C\"}},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"source\":{\"id\":\"909090\"},\"type\":\"c8y_TemperatureMeasurement\"}",
        "active": true,
        "tested": false,
        "qos": "AT_LEAST_ONCE",
        "substitutions": [
            {
                "pathSource": "deviceId",
                "pathTarget": "source.id",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "$number(deviceTimestamp)~>$fromMillis()",
                "pathTarget": "time",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "temperature",
                "pathTarget": "c8y_TemperatureMeasurement.T.value",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            }
        ],
        "mapDeviceIdentifier": true,
        "createNonExistingDevice": true,
        "updateExistingDevice": false,
        "externalIdType": "c8y_Serial",
        "snoopStatus": "NONE",
        "snoopedTemplates": [],
        "mappingType": "JSON",
        "extension": null,
        "lastUpdate": 1669281081870
    },
    {
        "name": "Mapping - 7",
        "id": "50125082",
        "ident": "cb008729-93ed-4156-9e4f-7dc9d7f09f04",
        "subscriptionTopic": "panel",
        "templateTopic": "panel",
        "templateTopicSample": "panel",
        "targetAPI": "EVENT",
        "source": "{\"deviceId\":\"863859042393327\",\"version\":\"1\",\"deviceType\":\"20\",\"deviceTimestamp\":\"1665473038000\",\"deviceStatus\":\"BTR\",\"temperature\":90}",
        "target": "{\"source\":{\"id\":\"909090\"},\"text\":\"This is a new test event.\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_TestEvent\"}",
        "active": true,
        "tested": false,
        "qos": "AT_LEAST_ONCE",
        "substitutions": [
            {
                "pathSource": "deviceId",
                "pathTarget": "source.id",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "$now()",
                "pathTarget": "time",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "'New device status: ' & deviceStatus & '!'",
                "pathTarget": "text",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            }
        ],
        "mapDeviceIdentifier": true,
        "createNonExistingDevice": true,
        "updateExistingDevice": false,
        "externalIdType": "c8y_Serial",
        "snoopStatus": "NONE",
        "snoopedTemplates": [],
        "mappingType": "JSON",
        "extension": null,
        "lastUpdate": 1669281630110
    },
    {
        "snoopStatus": "NONE",
        "templateTopicSample": "multiarray/devices",
        "ident": "e87a10ad-c223-4bd7-bd91-9df23e2bd3cf",
        "tested": false,
        "mapDeviceIdentifier": true,
        "active": true,
        "targetAPI": "INVENTORY",
        "source": "{\"device\":[\"d1_id\",\"d2_id\"],\"types\":{\"type_A\":\"type_A\",\"type_B\":\"type_B\"},\"used_name\":[\"Pressure_d1\",\"Pressure_d2\"]}",
        "externalIdType": "c8y_Serial",
        "target": "{\"c8y_IsDevice\":{},\"name\":\"Vibration Sensor\",\"type\":\"maker_Vibration_Sensor\"}",
        "templateTopic": "multiarray/devices",
        "qos": "AT_LEAST_ONCE",
        "substitutions": [
            {
                "pathSource": "device",
                "pathTarget": "_DEVICE_IDENT_",
                "repairStrategy": "DEFAULT",
                "expandArray": true
            },
            {
                "pathSource": "types.type_A",
                "pathTarget": "type",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "$map(used_name, function($v, $i, $a) { $contains($v,'d1') ? $join(['Special_i0', $string($i)]) : $join([$string($v), $string($i)]) } )",
                "pathTarget": "name",
                "repairStrategy": "DEFAULT",
                "expandArray": true
            }
        ],
        "updateExistingDevice": false,
        "lastUpdate": 1668635844108,
        "mappingType": "JSON",
        "snoopedTemplates": [],
        "createNonExistingDevice": false,
        "subscriptionTopic": "multiarray/devices",
        "id": "50090058",
        "name": "Mapping - 8"
    },
    {
        "snoopStatus": "NONE",
        "templateTopicSample": "/plant1/line1/device1_measure1_Type",
        "ident": "627EA012-9D07-4E60-B0AC-0D830C30F0E3",
        "tested": false,
        "mapDeviceIdentifier": true,
        "active": true,
        "targetAPI": "MEASUREMENT",
        "source": "{\"value\":100}",
        "externalIdType": "c8y_Serial",
        "target": "{\"measure1_Type\":{\"V\":{\"value\":110,\"unit\":\"C\"}},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"source\":{\"id\":\"909090\"},\"type\":\"c8y_TemperatureMeasurement\"}",
        "templateTopic": "/plant1/+/+",
        "qos": "AT_LEAST_ONCE",
        "substitutions": [
            {
                "pathSource": "_TOPIC_LEVEL_[0]&\"_\"&_TOPIC_LEVEL_[1]&\"_\"&$substringBefore(_TOPIC_LEVEL_[2],\"_\")",
                "pathTarget": "source.id",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "$substringAfter(_TOPIC_LEVEL_[2],\"_\")",
                "pathTarget": "type",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "$now()",
                "pathTarget": "time",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "value",
                "pathTarget": "measure1_Type.V.value",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            }
        ],
        "updateExistingDevice": false,
        "lastUpdate": 1668979858758,
        "mappingType": "JSON",
        "snoopedTemplates": [],
        "createNonExistingDevice": true,
        "subscriptionTopic": "/plant1/#",
        "id": "50086727",
        "name": "Mapping - 9"
    },
    {
        "snoopStatus": "NONE",
        "templateTopicSample": "devices/device_best_01",
        "ident": "05241eba-e0c5-4c77-a723-15511dee8709",
        "tested": false,
        "mapDeviceIdentifier": true,
        "active": true,
        "targetAPI": "MEASUREMENT",
        "source": "{\"mea\":[{\"tid\":\"uuid_01\",\"psid\":\"Crest\",\"devicePath\":\"path01_80_X03_VVB001StatusB_Crest\",\"values\":[{\"value\":4.6,\"timestamp\":1648562285347}]},{\"tid\":\"uuid_02\",\"psid\":\"Crest\",\"devicePath\":\"path01_80_X03_VVB001StatusB_Crest\",\"values\":[{\"value\":5.6,\"timestamp\":1648563285347}]}]}",
        "externalIdType": "c8y_Serial",
        "target": "{\"c8y_ProcessLoadMeasurement\":{\"L\":{\"value\":110,\"unit\":\"%\"}},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"source\":{\"id\":\"909090\"},\"type\":\"c8y_ProcessLoadMeasurement\"}",
        "templateTopic": "devices/+",
        "qos": "AT_LEAST_ONCE",
        "substitutions": [
            {
                "pathSource": "mea.values[0].value",
                "pathTarget": "c8y_ProcessLoadMeasurement.L.value",
                "repairStrategy": "DEFAULT",
                "expandArray": true
            },
            {
                "pathSource": "$map($map(mea.values[0].timestamp, $number), function($v, $i, $a) { $fromMillis($v) })",
                "pathTarget": "time",
                "repairStrategy": "DEFAULT",
                "expandArray": true
            },
            {
                "pathSource": "_TOPIC_LEVEL_[1]",
                "pathTarget": "source.id",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            }
        ],
        "updateExistingDevice": false,
        "lastUpdate": 1667995548939,
        "mappingType": "JSON",
        "snoopedTemplates": [],
        "createNonExistingDevice": true,
        "subscriptionTopic": "devices/#",
        "id": "50088617",
        "name": "Mapping - 10"
    },
    {
        "snoopStatus": "NONE",
        "templateTopicSample": "measurementObject/berlin_01/gazoline",
        "ident": "15699050-545d-41d1-a523-acf6de778739",
        "tested": false,
        "mapDeviceIdentifier": true,
        "active": true,
        "targetAPI": "MEASUREMENT",
        "source": "{\"fuel\":65,\"oil\":4.5,\"ts\":\"2022-08-05T00:14:49.389+02:00\",\"mea\":\"c8y_FuelMeasurement\"}",
        "externalIdType": "c8y_Serial",
        "target": "{\"c8y_FuelMeasurement\":{\"Tank\":{\"value\":110,\"unit\":\"l\"}},\"c8y_OilMeasurement\":\"Motor\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"source\":{\"id\":\"909090\"},\"type\":\"c8y_FuelMeasurement\"}",
        "templateTopic": "measurementObject/+/gazoline",
        "qos": "AT_LEAST_ONCE",
        "substitutions": [
            {
                "pathSource": "_TOPIC_LEVEL_[1]",
                "pathTarget": "source.id",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "mea",
                "pathTarget": "type",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "$now()",
                "pathTarget": "time",
                "repairStrategy": "DEFAULT",
                "expandArray": false
            },
            {
                "pathSource": "fuel*3.78541",
                "pathTarget": "c8y_FuelMeasurement.Tank.value",
                "repairStrategy": "REMOVE_IF_MISSING",
                "expandArray": false
            },
            {
                "pathSource": "(oil?{\"Motor\": {\"value\":oil, \"unit\":\"l\"}}:null)",
                "pathTarget": "c8y_OilMeasurement",
                "repairStrategy": "REMOVE_IF_MISSING",
                "expandArray": false
            }
        ],
        "updateExistingDevice": false,
        "lastUpdate": 1667765097912,
        "mappingType": "JSON",
        "snoopedTemplates": [],
        "createNonExistingDevice": true,
        "subscriptionTopic": "measurementObject/#",
        "id": "50089267",
        "name": "Mapping - 11"
    },
    {
        "snoopStatus": "NONE",
        "templateTopicSample": "operation/berlin_01",
        "ident": "ef19e1db-fd9a-481c-aa83-ee000eb2ed5e",
        "tested": false,
        "mapDeviceIdentifier": true,
        "active": true,
        "targetAPI": "OPERATION",
        "source": "{\"text\":\"Special operation\"}",
        "target": "{\"deviceId\":\"909090\",\"description\":\"New camera operation!\",\"type\":\"maintenance_operation\"}",
        "externalIdType": "c8y_Serial",
        "templateTopic": "operation/+",
        "qos": "AT_LEAST_ONCE",
        "substitutions": [
            {
                "pathSource": "_TOPIC_LEVEL_[1]",
                "pathTarget": "deviceId",
                "repairStrategy": "DEFAULT"
            },
            {
                "pathSource": "$join([text,\"_\",$now()])",
                "pathTarget": "description",
                "repairStrategy": "DEFAULT"
            }
        ],
        "updateExistingDevice": false,
        "mappingType": "JSON",
        "lastUpdate": 1667293150214,
        "snoopedTemplates": [],
        "createNonExistingDevice": true,
        "id": "50089275",
        "subscriptionTopic": "operation/+",
        "name": "Mapping - 12"
    },
    {
        "snoopStatus": "NONE",
        "templateTopicSample": "protobuf/measurement",
        "ident": "7b97922b-7229-4620-bc7c-19cf55f1b5f3",
        "tested": false,
        "mapDeviceIdentifier": true,
        "active": true,
        "targetAPI": "MEASUREMENT",
        "source": "{}",
        "target": "{\"c8y_GenericMeasurement\":{\"Module\":{\"value\":110,\"unit\":\"l\"}},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"source\":{\"id\":\"909090\"},\"type\":\"c8y_GenericMeasurement_type\"}",
        "externalIdType": "c8y_Serial",
        "templateTopic": "protobuf/measurement",
        "qos": "AT_LEAST_ONCE",
        "substitutions": [],
        "updateExistingDevice": false,
        "mappingType": "PROTOBUF_STATIC",
        "lastUpdate": 1668288598021,
        "snoopedTemplates": [],
        "createNonExistingDevice": false,
        "id": "50089283",
        "subscriptionTopic": "protobuf/measurement",
        "name": "Mapping - 13"
    },
    {
        "snoopStatus": "NONE",
        "extension": {
            "name": "mqtt-mapping-extension",
            "event": "CustomEvent"
        },
        "templateTopicSample": "protobuf/event",
        "ident": "93c93bb2-2ea3-4e7b-9f36-3b4a028ccc7b",
        "tested": false,
        "mapDeviceIdentifier": true,
        "active": true,
        "targetAPI": "EVENT",
        "source": "{}",
        "target": "{\"source\":{\"id\":\"909090\"},\"text\":\"This is a new test event.\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_TestEvent\"}",
        "externalIdType": "c8y_Serial",
        "templateTopic": "protobuf/event",
        "qos": "AT_LEAST_ONCE",
        "substitutions": [],
        "updateExistingDevice": false,
        "mappingType": "PROCESSOR_EXTENSION",
        "lastUpdate": 1668983252450,
        "snoopedTemplates": [],
        "createNonExistingDevice": false,
        "id": "50089285",
        "subscriptionTopic": "protobuf/event",
        "name": "Mapping - 14"
    }
 
]