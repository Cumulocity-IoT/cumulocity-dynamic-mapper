[
  {
    "id": "16121602714",
    "identifier": "f7jkg9",
    "name": "Event Mapping Example",
    "publishTopic": "evt/outbound/#",
    "publishTopicSample": "evt/outbound/berlin_01",
    "targetAPI": "EVENT",
    "direction": "OUTBOUND",
    "sourceTemplate": "{\"type\":\"c8y_BusEvent\",\"text\":\"Bus was stopped\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"bus_event\":\"stop_event\"}",
    "targetTemplate": "{\"deviceId\":\"909090\",\"description\":\"This is a new test event.\",\"time\":\"2022-08-05T00:14:49.389+02:00\",\"eventType\":\"TestEvent\",\"bus_event\":\"stop_event\"}",
    "mappingType": "JSON",
    "transformationType": "JSONATA",
    "substitutions": [
      {
        "pathSource": "_IDENTITY_.externalId",
        "pathTarget": "_TOPIC_LEVEL_[2]",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "type",
        "pathTarget": "eventType",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "$now()",
        "pathTarget": "time",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "bus_event",
        "pathTarget": "bus_event",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "_IDENTITY_.c8ySourceId",
        "pathTarget": "deviceId",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": false,
    "debug": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "filterMapping": "bus_event = \"stop_event\"",
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1744100776902
  },
  {
    "id": "75121602722",
    "identifier": "cxxlmh",
    "name": "Operation Mapping Example",
    "publishTopic": "op/outbound/#",
    "publishTopicSample": "op/outbound/berlin_01",
    "targetAPI": "OPERATION",
    "direction": "OUTBOUND",
    "sourceTemplate": "{\"bus_opp\":\"New engine restart operation!\"}",
    "targetTemplate": "{\"c8y_Id\":\"909090\",\"description\":\"dummy operation\",\"type\":\"bus_operation\"}",
    "mappingType": "JSON",
    "transformationType": "JSONATA",
    "substitutions": [
      {
        "pathSource": "_IDENTITY_.c8ySourceId",
        "pathTarget": "c8y_Id",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "bus_opp",
        "pathTarget": "description",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      },
      {
        "pathSource": "_IDENTITY_.externalId",
        "pathTarget": "_TOPIC_LEVEL_[2]",
        "repairStrategy": "DEFAULT",
        "expandArray": false
      }
    ],
    "active": true,
    "debug": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "filterMapping": "$exists(bus_opp)",
    "qos": "AT_LEAST_ONCE",
    "lastUpdate": 1744211243282
  },
  {
    "id": "38121778653",
    "identifier": "cxi6q7pi",
    "name": "Smart Function Example",
    "publishTopic": "measurements/+",
    "publishTopicSample": "measurements/berlin_01",
    "targetAPI": "MEASUREMENT",
    "direction": "OUTBOUND",
    "sourceTemplate": "{\"c8y_TemperatureMeasurement\":{\"T\":{\"value\":110,\"unit\":\"C\"}},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"type\":\"c8y_TemperatureMeasurement\"}",
    "targetTemplate": "{\"Temperature\":{\"value\":110,\"unit\":\"C\"},\"time\":\"2022-08-05T00:14:49.389+02:00\",\"deviceId\":\"909090\"}",
    "mappingType": "JSON",
    "transformationType": "SMART_FUNCTION",
    "substitutions": [],
    "active": false,
    "debug": false,
    "eventWithAttachment": false,
    "createNonExistingDevice": false,
    "updateExistingDevice": false,
    "autoAckOperation": true,
    "useExternalId": true,
    "externalIdType": "c8y_Serial",
    "snoopStatus": "NONE",
    "snoopedTemplates": [],
    "filterMapping": "$exists(c8y_TemperatureMeasurement)",
    "maxFailureCount": 0,
    "qos": "AT_LEAST_ONCE",
    "code": "LyoqDQogKiBAbmFtZSBEZWZhdWx0IHRlbXBsYXRlIGZvciBTbWFydCBGdW5jdGlvbg0KICogQGRlc2NyaXB0aW9uIERlZmF1bHQgdGVtcGxhdGUgZm9yIFNtYXJ0IEZ1bmN0aW9uLCBjcmVhdGVzIG9uZSBtZWFzdXJlbWVudA0KICogQHRlbXBsYXRlVHlwZSBPVVRCT1VORF9TTUFSVF9GVU5DVElPTg0KICogQGRpcmVjdGlvbiBPVVRCT1VORA0KICogQGRlZmF1bHRUZW1wbGF0ZSB0cnVlDQogKiBAaW50ZXJuYWwgdHJ1ZQ0KICogQHJlYWRvbmx5IHRydWUNCiAqIA0KKi8NCg0KZnVuY3Rpb24gb25NZXNzYWdlKGlucHV0TXNnLCBjb250ZXh0KSB7DQogICAgY29uc3QgbXNnID0gaW5wdXRNc2c7IA0KDQogICAgdmFyIHBheWxvYWQgPSBtc2cuZ2V0UGF5bG9hZCgpOw0KDQogICAgY29udGV4dC5sb2dNZXNzYWdlKCJDb250ZXh0IiArIGNvbnRleHQuZ2V0U3RhdGVBbGwoKSk7DQogICAgY29udGV4dC5sb2dNZXNzYWdlKCJQYXlsb2FkIFJhdzoiICsgbXNnLmdldFBheWxvYWQoKSk7DQogICAgY29udGV4dC5sb2dNZXNzYWdlKCJQYXlsb2FkIG1lc3NhZ2VJZCIgKyAgbXNnLmdldFBheWxvYWQoKS5nZXQoJ21lc3NhZ2VJZCcpKTsNCg0KICAgIC8vIHVzZSBfZXh0ZXJuYWxJZF8gdG8gcmVmZXJlbmNlIHRoZSBleHRlcm5hbCBpZCBvZiB0aGUgZGV2aWNlLg0KICAgIC8vIGl0IGlzIHJlc29sdmVkIGF1dG9tYXRpY2FsbHkgdXNpbmcgdGhlIGV4dGVybmFsSWQgdHlwZSBmcm9tIGV4dGVybmFsU291cmNlOiBbeyJ0eXBlIjoiYzh5X1NlcmlhbCJ9XQ0KICAgIC8vIGUuZy4gdG9waWM6IGBtZWFzdXJlbWVudHMvX2V4dGVybmFsSWRfYA0KICAgIHJldHVybiBbeyAgDQogICAgICAgIHRvcGljOiBgbWVhc3VyZW1lbnRzL19leHRlcm5hbElkX31gLA0KICAgICAgICBwYXlsb2FkOiB7DQogICAgICAgICAgICAidGltZSI6ICBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksDQogICAgICAgICAgICAiYzh5X1N0ZWFtIjogew0KICAgICAgICAgICAgICAgICJUZW1wZXJhdHVyZSI6IHsNCiAgICAgICAgICAgICAgICAgICAgInVuaXQiOiAiQyIsDQogICAgICAgICAgICAgICAgICAgICJ2YWx1ZSI6IHBheWxvYWRbImM4eV9UZW1wZXJhdHVyZU1lYXN1cmVtZW50Il1bIlQiXVsidmFsdWUiXQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgdHJhbnNwb3J0RmllbGRzOiB7ICJrZXkiOiBwYXlsb2FkWyJzb3VyY2UiXVsiaWQiXX0sICAvLyBkZWZpbmUga2V5IHRvIGFkZCB0byBLYWZrYSBwYXlsb2FkIChyZWNvcmQpDQogICAgICAgIGV4dGVybmFsU291cmNlOiBbeyJ0eXBlIjoiYzh5X1NlcmlhbCJ9XQ0KICAgIH1dOw0KfQ==",
    "lastUpdate": 1760000790795
  }
]