<!--
  ~ Copyright (c) 2022 Software AG, Darmstadt, Germany and/or Software AG USA Inc., Reston, VA, USA,
  ~ and/or its subsidiaries and/or its affiliates and/or their licensors.
  ~
  ~ SPDX-License-Identifier: Apache-2.0
  ~
  ~ Licensed under the Apache License, Version 2.0 (the "License");
  ~ you may not use this file except in compliance with the License.
  ~ You may obtain a copy of the License at
  ~
  ~      http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  ~
  ~ @authors Christof Strack
  -->

<!-- <div class="substitution-list font-smaller">
  <div class="text-monospace m-r-8" *ngFor="let sub of substitutions; let i = index" id="{{'sub-' + id +'-' + i}}"
    [ngStyle]="{'background': ( i == settings.selectedSubstitutionIndex ? settings.color : 'none')}"
    (click)="onSubstitutionSelected(i)"><span *ngIf="!sub.registeredType">{{ (i | number : '2.0-0') + '. [ ' + (definesDeviceIdentifier(targetAPI,sub) ? "* " : "") + sub.pathSource +
    ' -> ' + sub.pathTarget + ' ]'}}</span>
  </div>
</div> -->

<!-- <div class="substitution-list font-smaller">
  <div class="text-monospace m-r-8" *ngFor="let sub of substitutions; let i = index" id="{{'sub-' + id +'-' + i}}"
    [ngStyle]="{'background': ( i == settings.selectedSubstitutionIndex ? settings.color : 'none')}"
    (click)="onSubstitutionSelected(i)"><span *ngIf="!sub.registeredType">{{ (i | number : '2.0-0') + '. [ ' + (definesDeviceIdentifier(targetAPI,sub) ? "* " : "") + sub.pathSource +
    ' -> ' + sub.pathTarget + ' ]'}}</span>
  </div>
</div> -->

<div style="height:200px;overflow:auto">
  <c8y-list-group>
    <c8y-li
      *ngFor="let sub of substitutions; let i = index"
      id="{{ 'sub-' + id + '-' + i }}"
      [ngStyle]="{
        background:
          i == settings.selectedSubstitutionIndex ? settings.color : 'none'
      }"
      (click)="onSubstitutionSelect(i)"
    >
      <c8y-li-icon icon="replace"></c8y-li-icon>
      <c8y-li-body>
        <div class="d-flex">
          <div class="flex-grow text-truncate">
            <div class="text-truncate">
              <span *ngIf="!sub.registeredType" class="text-12"
                >{{
                  (i | number : "2.0-0") +
                    ". [ " +
                    (definesDeviceIdentifier(targetAPI, sub, direction) ? "* " : "") +
                    sub.pathSource +
                    " -> " +
                    sub.pathTarget +
                    " ]"
                }}
              </span>
            </div>
          </div>
          <div class="m-l-8">
            <button
              title="{{ 'Remove' | translate }}"
              class="btn btn-icon btn-clean"
              (click)="onSubstitutionDelete(i)"
              [attr.disabled]="
                isDisabled(settings.editorMode == EditorMode.READ_ONLY)
              "
            >
              <i c8yIcon="minus-circle" class="text-danger"></i>
              <span class="sr-only" translate>Remove</span>
            </button>
          </div>
        </div>
      </c8y-li-body>
    </c8y-li>
  </c8y-list-group>
</div>
