<c8y-action-bar-item
  [placement]="'right'"
  itemClass="pull-right"
>
  <button
    class="btn btn-help"
    [title]="'Open help' | translate"
    (click)="toggle()"
    [attr.aria-expanded]="!isCollapsed"
    aria-controls="collapseHelp"
  >
    <i
      [c8yIcon]="'question-circle-o'"
      class="text-info"
    ></i>
  </button>
</c8y-action-bar-item>
<div
  id="collapseHelp"
  class="c8y-help-drawer"
  [collapse]="isCollapsed"
  [isAnimated]="true"
>
  <div
    class="c8y-help-drawer-block"
    #docOutlet
  >
    <div *ngIf="isLoading">
      <c8y-loading></c8y-loading>
    </div>

    <div *ngIf="!isLoading">
      <div class="d-flex">
        <i
          [c8yIcon]="!hasError ? icon : 'unlink'"
          [ngClass]="{ 'text-warning': hasError, 'text-muted': !hasError }"
          class="c8y-icon-duocolor icon-48"
        ></i>
        <div
          class="p-l-16 p-t-16 flex-grow"
          *ngIf="!hasError"
        >
          <h4 class="text-bold text-primary m-b-16">{{title}}</h4>
          <div
            id="helpContent"
            class="help-content"
            [innerHTML] = "sectionContent"
          ></div>
          
        </div>

        <div
          class="p-l-16 p-t-16 flex-grow"
          *ngIf="hasError"
        >
          <h4
            class="text-bold m-b-16"
            translate>Sorry, that didn't work</h4>
          <div class="help-content">
            <p translate>The content couldn't be loaded.</p>
          </div>
        </div>
      </div>
    </div>

  </div>
  <div class="c8y-help-drawer-footer" *ngIf="!isLoading">
    <button
      class="btn btn-default"
      (click)="toggle()"
      [title]="'Close help' | translate"
      [attr.aria-expanded]="!isCollapsed"
      aria-controls="collapseHelp"
      translate
    >Close</button>
    <a
      href="{{ hasError ? getUrl() : getUrl(src) }}"
      class="btn btn-primary"
      target="_blank"
    >
    </a>
  </div>
</div>
